{% extends 'base.html' %}
{% load static %}
{% block title %}Home - TripTailor{% endblock %}
{% block content %}
<!-- Hero Section hero-search container mt-5 w-75 p-3 text-black-50 -->
<section class="hero-search container mt-5 p-3 w-auto text-black-50">
    <div class="container-fluid">
        <form class="row row-cols-md-auto d-flex justify-content-center g-4 search-bg align-items-center rounded-4" id="searchForm" method="get" action="{% url 'accommodations' %}">
            <div class="col-md-3 mb-2">
                <select class="container-fluid w-100 rounded-4 p-3" id="country" name="country">
                    <option value="">Country</option>
                    {% for country in countries %}
                        <option value="{{ country.id }}">{{ country.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-3 mb-2">
                <select class="container-fluid w-100 rounded-4 p-3" id="region" name="region">
                    <option value="">Region</option>
                </select>
            </div>
            <div class="col-md-3 mb-2">
                <select class="container-fluid w-100 rounded-4 p-3" id="city" name="city">
                    <option value="">City</option>
                </select>
            </div>
            <div class="col-md-3 mb-2">
                <button type="submit" class="btn btn-outline-primary w-100 p-3 rounded-4 border-0 white-text">Search</button>
            </div>
        </form>
    </div>
    <div class="hero-section mt-5 p-3 container">
        <div class="row">
            <div class="col-md-6">
                <div class="text-center text-black-50">
                    <div class="mb-5">
                        <h4>EXPLORE TRIPTAILOR FOR TRAVELLERS</h4>
                    </div>
                    <div class="mb-5">
                        <h6 style="font-size: 13px;">Discover appropriate hotels and destinations for relaxation</h6>
                    </div>
                    <div class="col-md-6 w-100">
                        <input type="email" class="form-control p-3 text-center" id="exampleFormControlInput1" placeholder="Your Email Address">
                        <div class="d-grid gap-2">
                            <button class="btn btn-primary mt-5 p-3" type="submit">Sign Up</button>
                        </div>
                    </div>
                </div>
                <div style="font-size: 13px;">
                    <span>We keep you up to date on the new location and best hotel in your area</span>
                    <span>By sharing your email, you agree to the terms and conditions</span>
                </div>
            </div>
            <div class="col-md-6 img-side">
                <img src="https://imgur.com/gaA16R7.jpg" class="img-fluid rounded-3" alt="Hotel in Paris">
                <img src="https://imgur.com/mYvCEb5.jpg" class="img-fluid rounded-3" alt="Hotel in London">
                <img src="https://imgur.com/hulTbsF.jpg" class="img-fluid rounded-3" alt="Hotel in Lagos">
            </div>
        </div>
    </div>
</section>

<!-- Trending Destinations Carousel -->
<section class="carousel mt-5 text-black-50">
    <div class="container">
        <div class="row text-center">
            <div class="mb-5">
                <h1 class="brand-text">Trending Destinations</h1>
                <h4 style="font-size: 18px;">Most popular choices for travelers</h4>
            </div>
            <div id="carouselExampleFade" class="carousel slide carousel-fade col-sm-12">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="col-md-12">
                            <img src="https://imgur.com/8kll7s7.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-1">
                            </div>
                        </div>
                        <div class="col-md-12">
                            <img src="https://imgur.com/hX65JGC.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-2">
                            </div>
                        </div>
                        <div class="col-md-12">
                            <img src="https://imgur.com/NSVvgwr.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-3">
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div>
                            <img src="https://imgur.com/IpTmuzH.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-1">
                            </div>
                        </div>
                        <div>
                            <img src="https://imgur.com/CgFL6Bm.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-2">
                            </div>
                        </div>
                        <div>
                            <img src="https://imgur.com/Dei24Sn.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-3">
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div>
                            <img src="https://imgur.com/CBKxK7s.jpg" class="img-fluid rounded-5" alt="">
                            <div class="position-absolute content-m-center-1">
                            </div>
                        </div>
                        <div>
                            <img src="https://imgur.com/LGzZfg2.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-2">
                            </div>
                        </div>
                        <div>
                            <img src="https://imgur.com/e1qZ2EX.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-3">
                            </div>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon btn-primary rounded-pill" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="next">
                    <span class="carousel-control-next-icon btn-primary rounded-pill" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </div>
</section>


<!-- Experience with TripTailor Carousel -->
<section class="carousel mt-5 text-black-50">
    <div class="container">
        <div class="row text-center">
            <div class="mb-5">
                <h3 class="brand-text">Experience with  TripTailor</h3>
                <h4 style="font-size: 18px;">Explore the best and new location in  your area</h4>
            </div>
            <div id="carouselExampleFade" class="carousel slide carousel-fade col-sm-12">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="col-md-12">
                            <img src="https://imgur.com/7H3ACir.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-1">
                            </div>
                        </div>
                        <div class="col-md-12">
                            <img src="https://imgur.com/xJPb97x.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-2">
                            </div>
                        </div>
                        <div class="col-md-12">
                            <img src="https://imgur.com/rvAjc9t.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-3">
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div>
                            <img src="https://imgur.com/IpTmuzH.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-1">
                            </div>
                        </div>
                        <div>
                            <img src="https://imgur.com/CgFL6Bm.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-2">
                            </div>
                        </div>
                        <div>
                            <img src="https://imgur.com/Dei24Sn.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-3">
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div>
                            <img src="https://imgur.com/CBKxK7s.jpg" class="img-fluid rounded-5" alt="">
                            <div class="position-absolute content-m-center-1">
                            </div>
                        </div>
                        <div>
                            <img src="https://imgur.com/LGzZfg2.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-2">
                            </div>
                        </div>
                        <div>
                            <img src="https://imgur.com/e1qZ2EX.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-3">
                            </div>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon btn-primary rounded-pill" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="next">
                    <span class="carousel-control-next-icon btn-primary rounded-pill" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </div>
</section>

<!-- Homes Guests Love Carousel -->
<section class="carousel mt-5 text-black-50">
    <div class="container">
        <div class="row text-center">
            <div class="mb-5">
                <h3 class="brand-text">Homes Guests Love</h3>
                <h4 style="font-size: 18px;">Discover new homes for your travel and stays</h4>
            </div>
            <div id="carouselExampleFade" class="carousel slide carousel-fade col-sm-12">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="col-md-12">
                            <img src="https://imgur.com/PizGjW7.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-1">
                            </div>
                        </div>
                        <div class="col-md-12">
                            <img src="https://imgur.com/1jmDey9.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-2">
                            </div>
                        </div>
                        <div class="col-md-12">
                            <img src="https://imgur.com/nqK3Wfd.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-3">
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div>
                            <img src="https://imgur.com/IpTmuzH.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-1">
                            </div>
                        </div>
                        <div>
                            <img src="https://imgur.com/CgFL6Bm.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-2">
                            </div>
                        </div>
                        <div>
                            <img src="https://imgur.com/Dei24Sn.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-3">
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div>
                            <img src="https://imgur.com/CBKxK7s.jpg" class="img-fluid rounded-5" alt="">
                            <div class="position-absolute content-m-center-1">
                            </div>
                        </div>
                        <div>
                            <img src="https://imgur.com/LGzZfg2.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-2">
                            </div>
                        </div>
                        <div>
                            <img src="https://imgur.com/e1qZ2EX.jpg" class="img-fluid rounded-5" alt="...">
                            <div class="position-absolute content-m-center-3">
                            </div>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon btn-primary rounded-pill" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="next">
                    <span class="carousel-control-next-icon btn-primary rounded-pill" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </div>
</section>

<!-- Rewards Section -->
<section class="carousel mt-5 text-black-50">
    <div class="container">
        <div class="row text-center">
            <div class="mb-5">
                <h3 class="text-color">Aim Reward With TripTailor</h3>
            </div>
        </div>
        <div class="row text-center">
            <div class="col-sm-6 mb-3 mb-sm-0">
                <div class="card">
                    <div class="card-body text-color bg-primary-subtle">
                        <h3 class="card-title">Travel More, Spend Less</h3>
                        <p class="card-text">Sign in, save money or more at participating properties</p>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 pb-3">
                <div class="card">
                    <div class="card-body text-color bg-primary-subtle">
                        <h3 class="card-title">Earn one reward night</h3>
                        <p class="card-text">for every 10 nights you stay</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row text-center">
            <div class="col-sm-6 mb-3 mb-sm-0">
                <div class="card">
                    <div class="card-body text-color bg-primary-subtle">
                        <h3 class="card-title">With the TripTailor website</h3>
                        <p class="card-text">Search, book, and save on the go</p>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 pb-3">
                <div class="card">
                    <div class="card-body text-color bg-primary-subtle py-4">
                        <h2 class="card-title">Rewards terms & conditions</h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $('#country').change(function() {
            var countryId = $(this).val();
            if (countryId) {
                $.ajax({
                    url: '/get_regions/' + countryId + '/',
                    type: "GET",
                    dataType: "json",
                    success: function(data) {
                        $('#region').empty();
                        $('#region').append('<option value="">Region</option>');
                        $.each(data, function(key, value) {
                            $('#region').append('<option value="'+ value.id +'">'+ value.name +'</option>');
                        });
                    }
                });
            } else {
                $('#region').empty();
                $('#region').append('<option value="">Region</option>');
            }
            $('#city').empty();
            $('#city').append('<option value="">City</option>');
        });

        $('#region').change(function() {
            var regionId = $(this).val();
            if (regionId) {
                $.ajax({
                    url: '/get_cities/' + regionId + '/',
                    type: "GET",
                    dataType: "json",
                    success: function(data) {
                        $('#city').empty();
                        $('#city').append('<option value="">City</option>');
                        $.each(data, function(key, value) {
                            $('#city').append('<option value="'+ value.id +'">'+ value.name +'</option>');
                        });
                    }
                });
            } else {
                $('#city').empty();
                $('#city').append('<option value="">City</option>');
            }
        });
    });
</script>
{% endblock %}